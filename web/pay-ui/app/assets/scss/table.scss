@use '~/assets/scss/colors.scss' as *;

// Common table styling for EFT short name tables

:deep(table td) {
  color: var(--color-text-secondary);
}

:deep(.sticky-row) {
  position: sticky;
  top: var(--search-sticky-header-height, 48px);
  z-index: 19;
  background-color: var(--color-white) !important;
  background: var(--color-white) !important;
  margin: 0 !important;
  transform: none !important;
}

:deep(.sticky-row th) {
  background-color: var(--color-white) !important;
  background: var(--color-white) !important;
  border-top: none !important;
  border-left: none !important;
  border-right: none !important;
  border-bottom: 1px solid var(--color-divider) !important;
  padding-left: 0.25rem !important;
  padding-right: 0.25rem !important;
  padding-top: 1rem !important;
  padding-bottom: 1rem !important;
  vertical-align: middle;
}

:deep(.sticky-row th:first-child) {
  border-left: none !important;
}

:deep(.sticky-row th:last-child) {
  border-right: none !important;
}

:deep(.sticky-row td) {
  background-color: var(--color-white) !important;
  background: var(--color-white) !important;
  opacity: 1 !important;
}

:deep(.sticky-row th *),
:deep(.table-filter-input) {
  &,
  & *,
  & input::placeholder,
  & .placeholder::placeholder,
  & [placeholder]::placeholder {
    font-weight: 400 !important;
    color: var(--color-text-secondary) !important;
  }
}

:deep(.ui-select button) {
  padding-left: 0.75rem !important;
}

// Set 14px font size for DateRangeFilter and StatusList - override global button font size
:deep(.table-filter-input:is(.date, .status-list-wrapper, status-list)),
:deep(.table-filter-input:is(.date, .status-list-wrapper, status-list) *),
:deep(.table-filter-input :is(.date, .status-list-wrapper, status-list, .date-range-filter-button,
  .date-range-placeholder)),
:deep(.table-filter-input :is(.date, .status-list-wrapper, status-list, .date-range-filter-button,
  .date-range-placeholder) *) {
  font-size: 14px !important;
}

:deep(.overflow-x-auto) {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: var(--color-white) !important;
  margin: 0 !important;
  transform: none !important;
  position: relative;
}

:deep(.overflow-x-auto > *) {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.columns-to-show-btn {
  background-color: var(--color-white) !important;
}

.columns-to-show-btn:hover,
.columns-to-show-btn:focus,
.columns-to-show-btn:active {
  background-color: var(--color-white) !important;
}

:deep(.columns-to-show-btn) {
  background-color: var(--color-white) !important;
}

:deep(.columns-to-show-btn:hover),
:deep(.columns-to-show-btn:focus),
:deep(.columns-to-show-btn:active) {
  background-color: var(--color-white) !important;
}

.table-scroll {
  max-height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;
  height: 100%;
}

.table-scroll,
.table-scroll * {
  transform: none !important;
  will-change: auto !important;
}

:deep(.sticky-table thead th) {
  position: sticky;
  top: 0;
  z-index: 20;
  background: var(--ui-bg, #ffffff);
}

:deep(.sticky-table .relative) {
  overflow: visible !important;
}

:deep(.sticky-table table) {
  border-collapse: separate;
  border-spacing: 0;
}

:deep(table) {
  border-spacing: 0;
  margin: 0 !important;
  padding: 0 !important;
  transform: none !important;
  position: relative;
}

:deep(table),
:deep(table thead),
:deep(table thead tr),
:deep(table thead tr th) {
  background-color: var(--color-white) !important;
  background: var(--color-white) !important;
}

:deep(table thead) {
  background-color: var(--color-white) !important;
  background: var(--color-white) !important;
  margin: 0 !important;
  transform: none !important;
}

:deep(table tbody) {
  margin: 0 !important;
  padding: 0 !important;
  transform: none !important;
}

:deep(table tbody tr) {
  background-color: transparent;
  margin: 0 !important;
  transform: none !important;
}

:deep(table thead tr th) {
  color: var(--color-text-primary);
  padding-left: 0.25rem !important;
  padding-right: 0.25rem !important;
  font-weight: 700 !important;
  background-color: var(--color-white) !important;
  background: var(--color-white) !important;
  border-top: 1px solid var(--color-divider) !important;
  border-bottom: 1px solid var(--color-divider) !important;
  border-left: none !important;
  border-right: none !important;
}

:deep(table thead tr th::before),
:deep(table thead tr th::after) {
  display: none !important;
}

:deep(table thead tr th:first-child) {
  padding-left: 1rem !important;
}

:deep(table thead tr th:last-child) {
  padding-right: 1rem !important;
  text-align: right !important;
  border-right: none !important;
  border-left: none !important;
}

:deep(table tbody tr td:first-child) {
  padding-left: 1rem !important;
}

:deep(table tbody tr td:last-child) {
  padding-right: 1rem !important;
  border-right: none !important;
  border-left: none !important;
}

:deep(table thead tr th.header-action),
:deep(table tbody tr td:has(.btn-table)) {
  border-right: none !important;
  border-left: none !important;
}

:deep(table thead tr th:last-child) {
  border-top: 1px solid var(--color-divider) !important;
  border-bottom: 1px solid var(--color-divider) !important;
  border-left: none !important;
  border-right: none !important;
}

:deep(.sticky-row th:first-child) {
  padding-left: 1rem !important;
}

:deep(.sticky-row th:last-child) {
  padding-right: 1rem !important;
  border-right: none !important;
  border-bottom: 1px solid var(--color-divider) !important;
}

:deep(table tbody tr td) {
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  white-space: normal !important;
  border-bottom: 1px solid var(--color-divider) !important;
  border-left: none !important;
  border-right: none !important;
}

:deep(.sticky-row) {
  :is(.ui-select, status-list, .input-text) {
    &, * {
      font-weight: 400 !important;
    }

    .ui-select button {
      padding-left: 0.75rem !important;
    }
  }

  :is(.ui-input, input:is([type="text"], [type="number"])) {
    &, & input {
      padding-left: 0.75rem !important;
    }
  }
}

// Make table divider thicker
:deep(tr.absolute.z-\[1\].left-0.w-full.h-px),
:deep(tr[class*="absolute"][class*="z-[1]"][class*="h-px"]) {
  height: 2px !important;
}

// Clear Filters button styling
:deep(.clear-filters-th .clear-filters-btn) {
  &, & * {
    color: var(--color-primary, #2563eb) !important;
  }
  padding-left: 0.5rem !important;
  padding-right: 0.5rem !important;
  font-size: 0.875rem !important;
  height: 38px !important;
}

// Column width defaults
:deep(.header-short-name) {
  max-width: 200px !important;
}
:deep(.header-type) {
  min-width: 180px !important;
}
:deep(.header-date) {
  min-width: 250px !important;
}
:deep(.header-unsettled-amount) {
  min-width: 121px !important;
}
:deep(.header-linked-accounts) {
  min-width: 160px !important;
}
:deep(.header-account-name) {
  min-width: 200px !important;
}
:deep(.header-branch-name) {
  min-width: 150px !important;
}
:deep(.header-account-number) {
  min-width: 150px !important;
}
:deep(.header-amount-owing) {
  min-width: 180px !important;
}
:deep(.header-statement) {
  min-width: 180px !important;
}
:deep(.header-action) {
  min-width: 130px !important;
  text-align: right;
}

.header {
  .sticky {
    background-color: var(--color-white);
  }

  .header-row-2 {
    th > div {
      width: 100%;
    }
    .date button {
      padding: 6px 10px !important;
      overflow: hidden;
      white-space: nowrap;
      width: 250px !important;
      background-color: var(--color-bg-shade) !important;
    }
    .placeholder {
      font-weight: 400;
      color: var(--color-text-secondary);
    }
    .input-text {
      font-weight: 400 !important;
      color: var(--color-text-secondary);
    }
  }
}

.wide-dropdown {
  width: 200px !important;
}

// Override global label font size for search page
:deep(label),
:deep(.ui-form-label) {
  font-size: inherit;
}

:deep(.date-range-placeholder, .date-range-result) {
    font-size: 14px !important;
  }

// Exclude DateRangeFilter and StatusList from 16px font size
:deep(:is(.date, .date-range-filter-button, .status-list-wrapper, .table-filter-input,
  .table-filter-input *)) {
  :is(label, .ui-form-label) {
    font-size: inherit !important;
  }
  :is(span) {
    font-size: 14px !important;
  }
}

:deep(.date-range-filter-button) {
  ::is(span) {
    font-size: 14px !important;
  }
}
